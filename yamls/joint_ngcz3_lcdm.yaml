theory:
  pk_likelihood_gc_emu_lnA.Taylor_pk_theory_zs:
      zfids:
      - 0.61
      pk_filenames:
      - /global/cscratch1/sd/sfschen/finite_difference/emu/boss_z_0.61_pkells.json

      stop_at_error: True

likelihood:
  pk_boss_likelihoods_emu_lnA.NGCZ3_Pk:
    fs_kmins:
    - 0.02
    fs_mmaxs:
    - 0.20
    fs_qmaxs:
    - 0.20
    stop_at_error: True
    
  gxk_likelihood.GxKLikelihood:
    model:  clpt
    clsfn:  /global/cscratch1/sd/sfschen/BOSSxPlanck/data/gal_s13_cls.txt
    covfn:  /global/cscratch1/sd/sfschen/BOSSxPlanck/data/gal_s13_cov.txt
    EmuPT:  /global/cscratch1/sd/sfschen/BOSSxPlanck/emulator/emu/preal.json
    EmuHF:  /global/cscratch1/sd/sfschen/BOSSxPlanck/emulator/emu/phalofit.json
    EmuLS:  /global/cscratch1/sd/sfschen/BOSSxPlanck/emulator/emu/chi_ls.json
    zeff:
         -  0.61
    suffx:
         -  NGCz3
    dndzfn:
         -  /global/cscratch1/sd/sfschen/BOSSxPlanck/data/gal_s13_dndz.txt
    wlafn:
         -  /global/cscratch1/sd/sfschen/BOSSxPlanck/data/gal_s13_wla.txt
    wlxfn:
         -  /global/cscratch1/sd/sfschen/BOSSxPlanck/data/gal_s13_wlx.txt
    acut:
        -   0
    xcut:
        -   300
    stop_at_error: True

params:
  H0:
    prior:
      min: 60.0
      max: 80.0
    ref:
      dist: norm
      loc:  69.848
      scale: 1.0
    latex: H_0
  omegam:
    prior:
      min: 0.2
      max: 0.4
    ref:
      dist: norm
      loc: 0.3027
      scale: 0.05
    latex: \Omega_\mathrm{m}
  logA:
    prior:
      dist: uniform
      min:  1.61
      max:  3.91
    ref:
      dist:  norm
      loc:   2.7954
      scale: 0.05
    latex: \log(10^{10} A_\mathrm{s})
  sigma8:
    latex: \sigma_8
    
  # NGCz3
  b1_NGCz3:
    prior:
      dist: uniform
      min:  0.0
      max:  3.0
    ref:
      dist:  norm
      loc:   1.35
      scale: 0.05
    latex: (1+b_1^{N3})\sigma_8
  b2_NGCz3:
    prior:
      dist:  norm
      loc:   0.0
      scale: 5.
    ref:
      dist:  norm
      loc:   -2.1724898
      scale: 0.1
    latex: b_2^{N3}
  bs_NGCz3:
    prior:
      dist:  norm
      loc:   0.0
      scale: 5.0
    ref:
      dist:  norm
      loc:   1.0970124
      scale: 0.1
    latex: b_s^{N3}
  alpha0_NGCz3:
    prior:
      dist:  norm
      loc:   0.0
      scale: 100.
    ref:
      dist:  norm
      loc:   11.070999
      scale: 0.5
    latex: \alpha_0^{N3}
  alpha2_NGCz3:
    prior:
      dist:  norm
      loc:   0.0
      scale: 100.
    ref:
      dist:  norm
      loc:   1.4
      scale: 0.5
    latex: \alpha_2^{N3}
  SN0_NGCz3:
    prior:
      dist:  norm
      loc:   0.0
      scale: 1000.
    ref:
      dist:  norm
      loc:   300.91745
      scale: 100.
    latex: SN_0^{N3}
  SN2_NGCz3:
    prior:
      dist:  norm
      loc:   0.0
      scale: 5e4
    ref:
      dist:  norm
      loc:   -14851.563
      scale:  1e3
    latex: SN_2^{N3}
    
  # Extra variables needed for the lensing
  bn_NGCz3:
    value: 0.0
  alpha_a_NGCz3:
    value: 0.0
    latex: \alpha_{a}^{N3}
  alpha_x_NGCz3:
    prior:
      dist:  norm
      loc:   0.0
      scale: 50.
    ref:
      dist:  norm
      loc:   0.0
      scale: 5.0
    latex: \alpha_{\times}^{N3}
  SN_NGCz3:
    value: 0.0
    latex: SN^{N3}
  smag_NGCz3:
    prior:
      dist: norm
      loc:   1.05
      scale: 0.11
    ref:
      dist:  norm
      loc:   1.05
      scale: 0.11
    latex: s_{\mu}^{N3}

sampler:
  mcmc:
    covmat: auto
    learn_proposal: True
    learn_proposal_Rminus1_max: 10.0
    output_every: 60s
    measure_speeds: False
    max_tries: 500
    drag: False
    oversample_power: 0.4
    proposal_scale: 1.5
    Rminus1_stop: 0.01
output: chains/ngcz3_joint
debug: True
debug_file: chains/ngcz3_joint
timing: True
stop_on_error: True